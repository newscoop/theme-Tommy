/*! Plugin for Cycle2; Copyright (c) 2012 M. Alsup; ver: 20130307 */
(function(a){"use strict",a.extend(a.fn.cycle.defaults,{loader:!1}),a(document).on("cycle-bootstrap",function(b,c){function e(b,e){function i(b){var g;c.loader=="wait"?(f.push(b),h===0&&(f.sort(j),d.apply(c.API,[f,e]),c.container.removeClass("cycle-loading"))):(g=a(c.slides[c.currSlide]),d.apply(c.API,[b,e]),g.show(),c.container.removeClass("cycle-loading"))}function j(a,b){return a.data("index")-b.data("index")}var f=[];if(a.type(b)=="string")b=a.trim(b);else if(a.type(b)==="array")for(var g=0;g<b.length;g++)b[g]=a(b[g])[0];b=a(b);var h=b.length;if(!h)return;b.hide().appendTo("body").each(function(b){function l(){--g===0&&(--h,i(j))}var g=0,j=a(this),k=j.is("img")?j:j.find("img");j.data("index",b),k=k.filter(":not(.cycle-loader-ignore)").filter(':not([src=""])');if(!k.length){--h,f.push(j);return}g=k.length,k.each(function(){this.complete?l():a(this).load(function(){l()}).error(function(){--g===0&&(c.API.log("slide skipped; img not loaded:",this.src),--h===0&&c.loader=="wait"&&d.apply(c.API,[f,e]))})})}),h&&c.container.addClass("cycle-loading")}var d;if(!c.loader)return;d=c.API.add,c.API.add=e})})(jQuery);